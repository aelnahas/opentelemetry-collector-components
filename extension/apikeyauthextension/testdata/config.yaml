apikeyauth: {}
apikeyauth/application_privileges:
  application_privileges:
    - application: my_app
      privileges: [read, write]
      resources: ['*']
apikeyauth/invalid_cache_capacity:
  cache:
    capacity: 0
apikeyauth/invalid_cache_ttl:
  cache:
    ttl: 0s
apikeyauth/dynamic_resources:
  application_privileges:
    - application: my_app
      privileges: [write]
      resources: ['static-resource']
      dynamic_resources:
        - metadata: X-Resource-Name
          format: "resource:%s"
        - metadata: X-Resource-Name-Default-Format
  cache:
    key_metadata: [X-Resource-Name, X-Resource-Name-Default-Format]
apikeyauth/dynamic_resources_missing_metadata:
  application_privileges:
    - application: my_app
      privileges: [write]
      dynamic_resources:
        - format: "resource:%s"
apikeyauth/dynamic_resources_missing_cache_key_metadata:
  application_privileges:
    - application: my_app
      privileges: [write]
      dynamic_resources:
        - metadata: X-Resource-Name
          format: "resource:%s"
apikeyauth/dynamic_resources_invalid_format:
  application_privileges:
    - application: my_app
      privileges: [write]
      dynamic_resources:
        - metadata: X-Resource-Name
          format: "resource"
  cache:
    key_metadata: [X-Resource-Name]
apikeyauth/dynamic_resources_multiple_format:
  application_privileges:
    - application: my_app
      privileges: [write]
      dynamic_resources:
        - metadata: X-Resource-Name
          format: "resource:%s:%s"
  cache:
    key_metadata: [X-Resource-Name]
apikeyauth/dynamic_resources_empty_metadata:
  application_privileges:
    - application: my_app
      privileges: [write]
      dynamic_resources:
        - metadata: ""
          format: "%s"
  cache:
    key_metadata: [X-Resource-Name]
apikeyauth/custom_retry:
  elasticsearch_retry:
    enabled: true
    max_retries: 5
    initial_interval: 200ms
    max_interval: 10s
apikeyauth/custom_retry_legacy:
  retry:
    enabled: true
    max_retries: 7
    initial_interval: 150ms
    max_interval: 9s
apikeyauth/custom_retry_both_keys_prefer_new:
  retry:
    enabled: true
    max_retries: 7
    initial_interval: 150ms
    max_interval: 9s
  elasticsearch_retry:
    enabled: true
    max_retries: 5
    initial_interval: 200ms
    max_interval: 10s
apikeyauth/retry_disabled:
  elasticsearch_retry:
    enabled: false
apikeyauth/invalid_retry_max_retries:
  elasticsearch_retry:
    max_retries: -1
apikeyauth/invalid_retry_initial_interval:
  elasticsearch_retry:
    initial_interval: 0s
apikeyauth/invalid_retry_max_interval:
  elasticsearch_retry:
    max_interval: 0s
apikeyauth/invalid_retry_interval_order:
  elasticsearch_retry:
    initial_interval: 10s
    max_interval: 1s

apikeyauth/custom_client_retry:
  client_retry:
    enabled: true
    retry_delay: 3s

apikeyauth/client_retry_disabled:
  client_retry:
    enabled: false
    retry_delay: 3s

apikeyauth/invalid_client_retry_delay:
  client_retry:
    enabled: true
    retry_delay: 0s
